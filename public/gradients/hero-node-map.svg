<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 560 480" fill="none" aria-hidden="true">
  <style>
    @keyframes floatDrift {
      0%, 100% { transform: translateY(0px); }
      50%       { transform: translateY(-14px); }
    }
    @keyframes pulseGlow {
      0%, 100% { opacity: 0.28; }
      50%       { opacity: 0.55; }
    }
    @keyframes pulseGlowB {
      0%, 100% { opacity: 0.20; }
      50%       { opacity: 0.42; }
    }
    @keyframes dashFlow {
      to { stroke-dashoffset: -24; }
    }
    @keyframes packetTravel {
      0%   { offset-distance: 0%;   opacity: 0; }
      12%  { opacity: 1; }
      88%  { opacity: 1; }
      100% { offset-distance: 100%; opacity: 0; }
    }

    .float  { animation: floatDrift 9s ease-in-out infinite; transform-origin: 280px 240px; }
    .gl-a   { animation: pulseGlow  3.6s ease-in-out infinite; }
    .gl-b   { animation: pulseGlowB 4.2s ease-in-out infinite 0.9s; }
    .gl-c   { animation: pulseGlow  3.9s ease-in-out infinite 1.8s; }
    .gl-d   { animation: pulseGlowB 4.5s ease-in-out infinite 0.4s; }
    .gl-e   { animation: pulseGlow  3.3s ease-in-out infinite 1.3s; }
    .gl-f   { animation: pulseGlowB 4.0s ease-in-out infinite 2.2s; }

    /* Animated dash flow on connector lines */
    .edge-flow {
      stroke-dasharray: 6 10;
      animation: dashFlow 1.8s linear infinite;
    }
    .edge-flow-slow {
      stroke-dasharray: 6 10;
      animation: dashFlow 2.6s linear infinite;
    }

    /* Data packets */
    .pk1  { offset-path: path("M 143 118 C 185 118 195 118 225 118"); animation: packetTravel 2.4s ease-in-out infinite 0.3s; }
    .pk2  { offset-path: path("M 330 118 C 370 118 385 118 415 118"); animation: packetTravel 2.4s ease-in-out infinite 1.1s; }
    .pk3  { offset-path: path("M 287 149 C 287 180 287 190 287 218"); animation: packetTravel 2.2s ease-in-out infinite 1.8s; }
    .pk4  { offset-path: path("M 287 307 C 287 330 287 345 287 368"); animation: packetTravel 2.2s ease-in-out infinite 0.7s; }
    .pk5  { offset-path: path("M 330 362 C 368 362 382 362 412 362"); animation: packetTravel 2.4s ease-in-out infinite 2.4s; }
    .pk6  { offset-path: path("M 143 362 C 110 362 95 340 87 310");   animation: packetTravel 2.6s ease-in-out infinite 1.5s; }

    @media (prefers-reduced-motion: reduce) {
      .float, .gl-a, .gl-b, .gl-c, .gl-d, .gl-e, .gl-f,
      .edge-flow, .edge-flow-slow,
      .pk1, .pk2, .pk3, .pk4, .pk5, .pk6 { animation: none; }
    }
  </style>

  <defs>
    <!-- Left-edge fade: transparent → opaque, so the visual blends into the hero bg -->
    <linearGradient id="left-fade" x1="0" y1="0" x2="1" y2="0" gradientUnits="objectBoundingBox">
      <stop offset="0%"   stop-color="white" stop-opacity="0"/>
      <stop offset="18%"  stop-color="white" stop-opacity="0.5"/>
      <stop offset="35%"  stop-color="white" stop-opacity="1"/>
      <stop offset="100%" stop-color="white" stop-opacity="1"/>
    </linearGradient>
    <mask id="m-fade">
      <rect width="560" height="480" fill="url(#left-fade)"/>
    </mask>

    <!-- Node glow halos -->
    <radialGradient id="gl-acc" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#E8833A" stop-opacity="0.6"/>
      <stop offset="100%" stop-color="#E8833A" stop-opacity="0"/>
    </radialGradient>
    <radialGradient id="gl-dim" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#F4F1EF" stop-opacity="0.35"/>
      <stop offset="100%" stop-color="#F4F1EF" stop-opacity="0"/>
    </radialGradient>

    <!-- Arrowhead markers -->
    <marker id="arr-acc" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <path d="M0 0 L8 3 L0 6 L2 3 Z" fill="rgba(232,131,58,0.7)"/>
    </marker>
    <marker id="arr-dim" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <path d="M0 0 L8 3 L0 6 L2 3 Z" fill="rgba(244,241,239,0.30)"/>
    </marker>

    <!-- Node icon area clipping (left-side color band) -->
    <clipPath id="cp-node">
      <rect width="52" height="52" rx="10"/>
    </clipPath>
  </defs>

  <g mask="url(#m-fade)">
    <g class="float">

      <!-- ═══════════════════════════════════════
           BACKDROP — subtle glass card behind the canvas
           ═══════════════════════════════════════ -->
      <rect x="30" y="64" width="502" height="362" rx="18"
            fill="rgba(26,8,3,0.52)" stroke="rgba(232,131,58,0.14)" stroke-width="1"/>

      <!-- ═══════════════════════════════════════
           CONNECTOR LINES (below nodes)
           ═══════════════════════════════════════ -->

      <!-- Allabolag → GPT-4 (hot, solid orange) -->
      <line x1="143" y1="118" x2="225" y2="118"
            stroke="rgba(232,131,58,0.65)" stroke-width="2" marker-end="url(#arr-acc)"/>
      <!-- animated flow overlay -->
      <line x1="143" y1="118" x2="225" y2="118"
            stroke="rgba(232,131,58,0.45)" stroke-width="1.5" class="edge-flow"/>

      <!-- GPT-4 → CRM (hot) -->
      <line x1="330" y1="118" x2="415" y2="118"
            stroke="rgba(232,131,58,0.65)" stroke-width="2" marker-end="url(#arr-acc)"/>
      <line x1="330" y1="118" x2="415" y2="118"
            stroke="rgba(232,131,58,0.45)" stroke-width="1.5" class="edge-flow"/>

      <!-- GPT-4 → Outlook (branch down) -->
      <path d="M 287 149 C 287 190 287 190 287 218"
            stroke="rgba(232,131,58,0.50)" stroke-width="2" marker-end="url(#arr-acc)"/>
      <path d="M 287 149 C 287 190 287 190 287 218"
            stroke="rgba(232,131,58,0.35)" stroke-width="1.5" class="edge-flow-slow"/>

      <!-- Outlook → Sheets (dim, secondary) -->
      <path d="M 287 307 C 287 340 287 345 287 368"
            stroke="rgba(244,241,239,0.28)" stroke-width="1.5" stroke-dasharray="5 8" marker-end="url(#arr-dim)"/>

      <!-- Sheets → n8n log (dim, secondary) -->
      <line x1="330" y1="362" x2="412" y2="362"
            stroke="rgba(244,241,239,0.25)" stroke-width="1.5" stroke-dasharray="5 8" marker-end="url(#arr-dim)"/>

      <!-- Allabolag ← trigger (dim, leftward loop) -->
      <path d="M 143 362 C 108 362 92 338 86 308"
            stroke="rgba(244,241,239,0.18)" stroke-width="1.5" stroke-dasharray="3 9"/>

      <!-- Data packets -->
      <circle class="pk1" r="3" fill="#E8833A" opacity="0"/>
      <circle class="pk2" r="3" fill="#E8833A" opacity="0"/>
      <circle class="pk3" r="3" fill="#E8833A" opacity="0"/>
      <circle class="pk4" r="2.5" fill="rgba(244,241,239,0.85)" opacity="0"/>
      <circle class="pk5" r="2.5" fill="rgba(244,241,239,0.7)" opacity="0"/>
      <circle class="pk6" r="2"   fill="rgba(244,241,239,0.55)" opacity="0"/>

      <!-- ═══════════════════════════════════════
           NODES
           Each: glow halo → card body → icon band → label
           ═══════════════════════════════════════ -->

      <!-- ── NODE 1: Allabolag (top-left, source) ── -->
      <ellipse cx="91" cy="118" rx="42" ry="36" fill="url(#gl-acc)" class="gl-a"/>
      <g transform="translate(40, 92)">
        <rect width="103" height="52" rx="10" fill="rgba(30,10,4,0.90)" stroke="rgba(232,131,58,0.55)" stroke-width="1.2"/>
        <!-- Icon band -->
        <rect width="36" height="52" rx="0" fill="rgba(232,131,58,0.22)"/>
        <rect width="36" height="52" rx="10" fill="rgba(232,131,58,0.22)"/>
        <rect x="20" width="16" height="52" fill="rgba(232,131,58,0.22)"/>
        <!-- Icon: search/magnifier simplified -->
        <circle cx="18" cy="22" r="7" stroke="rgba(232,131,58,0.9)" stroke-width="1.5" fill="none"/>
        <line x1="23" y1="27" x2="28" y2="32" stroke="rgba(232,131,58,0.9)" stroke-width="1.5" stroke-linecap="round"/>
        <!-- Label -->
        <text x="43" y="21" font-family="ui-sans-serif,system-ui,sans-serif" font-size="9.5" font-weight="600" fill="rgba(244,241,239,0.90)" letter-spacing="0.02em">Allabolag</text>
        <text x="43" y="35" font-family="ui-sans-serif,system-ui,sans-serif" font-size="8" fill="rgba(244,241,239,0.50)">Scrape</text>
      </g>

      <!-- ── NODE 2: GPT-4 (top-center, processing) ── -->
      <ellipse cx="278" cy="118" rx="44" ry="36" fill="url(#gl-acc)" class="gl-c"/>
      <g transform="translate(225, 92)">
        <rect width="105" height="52" rx="10" fill="rgba(28,8,2,0.92)" stroke="rgba(232,131,58,0.68)" stroke-width="1.4"/>
        <rect width="38" height="52" rx="0" fill="rgba(232,131,58,0.26)"/>
        <rect width="38" height="52" rx="10" fill="rgba(232,131,58,0.26)"/>
        <rect x="22" width="16" height="52" fill="rgba(232,131,58,0.26)"/>
        <!-- Icon: AI/sparkle simplified -->
        <path d="M14 15 L18 24 L22 15 M18 24 L18 30" stroke="rgba(232,131,58,1)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <circle cx="11" cy="12" r="1.5" fill="rgba(232,131,58,0.8)"/>
        <circle cx="25" cy="28" r="1.5" fill="rgba(232,131,58,0.8)"/>
        <!-- Label -->
        <text x="45" y="21" font-family="ui-sans-serif,system-ui,sans-serif" font-size="9.5" font-weight="600" fill="rgba(244,241,239,0.92)" letter-spacing="0.02em">GPT-4o</text>
        <text x="45" y="35" font-family="ui-sans-serif,system-ui,sans-serif" font-size="8" fill="rgba(244,241,239,0.50)">Berika data</text>
      </g>

      <!-- ── NODE 3: CRM (top-right, output) ── -->
      <ellipse cx="463" cy="118" rx="38" ry="34" fill="url(#gl-dim)" class="gl-b"/>
      <g transform="translate(415, 92)">
        <rect width="100" height="52" rx="10" fill="rgba(24,9,4,0.88)" stroke="rgba(244,241,239,0.28)" stroke-width="1.2"/>
        <rect width="34" height="52" rx="0" fill="rgba(244,241,239,0.09)"/>
        <rect width="34" height="52" rx="10" fill="rgba(244,241,239,0.09)"/>
        <rect x="18" width="16" height="52" fill="rgba(244,241,239,0.09)"/>
        <!-- Icon: database simplified -->
        <ellipse cx="17" cy="16" rx="8" ry="4" stroke="rgba(244,241,239,0.65)" stroke-width="1.2" fill="none"/>
        <line x1="9" y1="16" x2="9" y2="28" stroke="rgba(244,241,239,0.65)" stroke-width="1.2"/>
        <line x1="25" y1="16" x2="25" y2="28" stroke="rgba(244,241,239,0.65)" stroke-width="1.2"/>
        <ellipse cx="17" cy="28" rx="8" ry="4" stroke="rgba(244,241,239,0.65)" stroke-width="1.2" fill="none"/>
        <!-- Label -->
        <text x="41" y="21" font-family="ui-sans-serif,system-ui,sans-serif" font-size="9.5" font-weight="600" fill="rgba(244,241,239,0.88)" letter-spacing="0.02em">CRM</text>
        <text x="41" y="35" font-family="ui-sans-serif,system-ui,sans-serif" font-size="8" fill="rgba(244,241,239,0.48)">Uppdatera</text>
      </g>

      <!-- ── NODE 4: Outlook (mid-center, branch) ── -->
      <ellipse cx="287" cy="262" rx="40" ry="34" fill="url(#gl-acc)" class="gl-e"/>
      <g transform="translate(236, 218)">
        <rect width="103" height="52" rx="10" fill="rgba(26,8,2,0.90)" stroke="rgba(232,131,58,0.58)" stroke-width="1.3"/>
        <rect width="36" height="52" rx="0" fill="rgba(232,131,58,0.20)"/>
        <rect width="36" height="52" rx="10" fill="rgba(232,131,58,0.20)"/>
        <rect x="20" width="16" height="52" fill="rgba(232,131,58,0.20)"/>
        <!-- Icon: envelope simplified -->
        <rect x="7" y="14" width="22" height="16" rx="2" stroke="rgba(232,131,58,0.9)" stroke-width="1.3" fill="none"/>
        <path d="M7 16 L18 23 L29 16" stroke="rgba(232,131,58,0.9)" stroke-width="1.3" fill="none" stroke-linejoin="round"/>
        <!-- Label -->
        <text x="43" y="22" font-family="ui-sans-serif,system-ui,sans-serif" font-size="9.5" font-weight="600" fill="rgba(244,241,239,0.90)" letter-spacing="0.02em">Outlook</text>
        <text x="43" y="36" font-family="ui-sans-serif,system-ui,sans-serif" font-size="8" fill="rgba(244,241,239,0.48)">Skicka mail</text>
      </g>

      <!-- ── NODE 5: Sheets (bottom-center, log) ── -->
      <ellipse cx="287" cy="388" rx="36" ry="30" fill="url(#gl-dim)" class="gl-d"/>
      <g transform="translate(239, 362)">
        <rect width="97" height="52" rx="10" fill="rgba(22,8,3,0.86)" stroke="rgba(244,241,239,0.22)" stroke-width="1.1"/>
        <rect width="32" height="52" rx="0" fill="rgba(244,241,239,0.07)"/>
        <rect width="32" height="52" rx="10" fill="rgba(244,241,239,0.07)"/>
        <rect x="16" width="16" height="52" fill="rgba(244,241,239,0.07)"/>
        <!-- Icon: grid/sheet simplified -->
        <rect x="7" y="12" width="18" height="18" rx="2" stroke="rgba(244,241,239,0.55)" stroke-width="1.2" fill="none"/>
        <line x1="12" y1="12" x2="12" y2="30" stroke="rgba(244,241,239,0.55)" stroke-width="1"/>
        <line x1="7"  y1="18" x2="25" y2="18" stroke="rgba(244,241,239,0.55)" stroke-width="1"/>
        <line x1="7"  y1="24" x2="25" y2="24" stroke="rgba(244,241,239,0.55)" stroke-width="1"/>
        <!-- Label -->
        <text x="39" y="22" font-family="ui-sans-serif,system-ui,sans-serif" font-size="9.5" font-weight="600" fill="rgba(244,241,239,0.82)" letter-spacing="0.02em">Sheets</text>
        <text x="39" y="36" font-family="ui-sans-serif,system-ui,sans-serif" font-size="8" fill="rgba(244,241,239,0.45)">Logg</text>
      </g>

      <!-- ── NODE 6: n8n log (bottom-right, secondary output) ── -->
      <ellipse cx="458" cy="362" rx="34" ry="30" fill="url(#gl-dim)" class="gl-f"/>
      <g transform="translate(412, 336)">
        <rect width="95" height="52" rx="10" fill="rgba(20,7,2,0.84)" stroke="rgba(244,241,239,0.19)" stroke-width="1.1"/>
        <rect width="30" height="52" rx="0" fill="rgba(244,241,239,0.06)"/>
        <rect width="30" height="52" rx="10" fill="rgba(244,241,239,0.06)"/>
        <rect x="14" width="16" height="52" fill="rgba(244,241,239,0.06)"/>
        <!-- Icon: n8n simplified lightning -->
        <path d="M20 12 L14 24 L19 24 L14 36 L24 22 L19 22 L24 12 Z"
              fill="rgba(244,241,239,0.50)" stroke="none"/>
        <!-- Label -->
        <text x="37" y="22" font-family="ui-sans-serif,system-ui,sans-serif" font-size="9.5" font-weight="600" fill="rgba(244,241,239,0.78)" letter-spacing="0.02em">n8n log</text>
        <text x="37" y="36" font-family="ui-sans-serif,system-ui,sans-serif" font-size="8" fill="rgba(244,241,239,0.42)">Historik</text>
      </g>

      <!-- ── TRIGGER node (tiny, leftward, faint) ── -->
      <ellipse cx="76" cy="310" rx="28" ry="24" fill="url(#gl-dim)" class="gl-b"/>
      <g transform="translate(44, 286)">
        <rect width="80" height="44" rx="8" fill="rgba(18,6,2,0.80)" stroke="rgba(244,241,239,0.15)" stroke-width="1"/>
        <!-- Icon: clock -->
        <circle cx="16" cy="22" r="8" stroke="rgba(244,241,239,0.45)" stroke-width="1.2" fill="none"/>
        <line x1="16" y1="15" x2="16" y2="22" stroke="rgba(244,241,239,0.45)" stroke-width="1.2" stroke-linecap="round"/>
        <line x1="16" y1="22" x2="21" y2="26" stroke="rgba(244,241,239,0.45)" stroke-width="1.2" stroke-linecap="round"/>
        <!-- Label -->
        <text x="30" y="19" font-family="ui-sans-serif,system-ui,sans-serif" font-size="8.5" font-weight="600" fill="rgba(244,241,239,0.65)">Trigger</text>
        <text x="30" y="31" font-family="ui-sans-serif,system-ui,sans-serif" font-size="7.5" fill="rgba(244,241,239,0.38)">08:00 daglig</text>
      </g>

    </g><!-- /float -->
  </g><!-- /fade-mask -->
</svg>
